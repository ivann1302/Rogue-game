<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,700&amp;subset=cyrillic" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700&amp;subset=cyrillic" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700&amp;subset=cyrillic" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i|Tinos:400,400i&amp;subset=cyrillic" rel="stylesheet">
		<script src="utils/helpers.js"></script>
		<script src="js/character/state.js"></script>
		<script src="js/character/movement.js"></script>
		<script src="js/character/combat.js"></script>
		<script src="js/map/core.js"></script>
		<script src="js/map/generation.js"></script>
		<script src="js/map/passages.js"></script>
		<script src="js/map/accessibility.js"></script>
		<script src="js/map/query.js"></script>
		<script src="js/map/map.js"></script>
		<script src="js/character/character.js"></script>
		<script src="js/enemy/state.js"></script>
		<script src="js/enemy/enemy.js"></script>
		<script src="js/items/state.js"></script>
		<script src="js/items/item.js"></script>
		<script src="js/game/timers.js"></script>
		<script src="js/game/input.js"></script>
		<script src="js/game/placement.js"></script>
		<script src="js/game/enemies.js"></script>
		<script src="js/game/render.js"></script>
		<script src="js/game/game.js"></script>
<style>
* { box-sizing: border-box; }
html, body { height: 100%; overflow: hidden; }
body { background-color: #000000; color: #ffffff; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
h1 { font-family: "Playfair Display"; font-size: 30px; padding: 10px 0px; margin: 0px; text-align: center; line-height: 1; }
h2 { font-family: "Playfair Display"; font-size: 20px; padding: 6px 0px; margin: 0px; text-align: center; }
.game-wrap { display: flex; align-items: flex-start; gap: 12px; }
.field-box { border: 2px solid #d0d0d0; margin: 0 auto; }
.field { position: relative; }
.field .tile { position: absolute; background-size: 100%; background-image: url(images/tile-.png); z-index: 5; }
.field .tileW { background-image: url(images/tile-W.png); }
.field .tileE { background-image: url(images/tile-E.png); z-index: 10; }
.field .tileP { background-image: url(images/tile-P.png); z-index: 10; }
.field .tileHP { background-image: url(images/tile-HP.png); z-index: 9; }
.field .tileSW { background-image: url(images/tile-SW.png); z-index: 9; }
.field .tile .health { background-color: #ff0000; z-index: 11; position: absolute; left: 0px; top: 0px; height: 2px; }
.field .tileP .health { background-color: #00ff00; z-index: 11; position: absolute; left: 0px; top: 0px; height: 2px; }
.inventory-box { border: 2px solid #d0d0d0; width: 100px; padding-bottom: 4px; margin: 0 auto; }
.inventory { display: flex; align-items: center; gap: 4px; width: 100%; height: 24px; justify-content: center; }
.inventory img { width: 16px; height: 16px; image-rendering: pixelated; }
.inventory .count { font-family: "Playfair Display"; font-size: 12px; }
.right-col { margin-top: 50px; margin-left: 8px; }
</style>
		<title>Rogue-like Game</title>
	</head>
	<body>
		<div class="game-wrap">
			<div>
				<h1>Игровое поле</h1>
				<div class="field-box"><div class="field"></div></div>
			</div>
			<div class="right-col">
				<h2 style="padding-top: 0; line-height: 1; font-size: 16px">Инвентарь</h2>
				<div class="inventory-box"><div class="inventory"></div></div>
			</div>
		</div>

		<div id="start-screen" style="position:fixed;inset:0;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;z-index:9999;">
			<div style="font-family: 'Playfair Display'; font-size: 26px; text-align: center;">Нажмите любую клавишу чтобы начать</div>
			<div style="font-family: 'Playfair Display'; font-size: 16px; text-align: center; opacity: 0.9;">
				Движение: стрелки или WASD<br>
				Атака: пробел
			</div>
			<div style="display:flex; gap:16px; align-items:center; justify-content:center; font-family: 'Playfair Display'; font-size: 14px; opacity: 0.9; margin-top: 4px;">
				<div style="display:flex; align-items:center; gap:8px;">
					<img src="images/tile-HP.png" alt="HP" style="width:32px;height:32px;image-rendering: pixelated;">
					<span>Зелье: восстанавливает здоровье</span>
				</div>
				<div style="display:flex; align-items:center; gap:8px;">
					<img src="images/tile-SW.png" alt="SW" style="width:32px;height:32px;image-rendering: pixelated;">
					<span>Меч: увеличивает силу атаки</span>
				</div>
			</div>
		</div>
		<script>
			var game;
			function startGame(){
				var s=document.getElementById('start-screen');
				if(s){ s.style.display='none'; }
				game=new Game();
				game.init();
			}
			document.addEventListener('keydown', function(){ startGame(); }, { once: true });
		</script>
	</body>
</html>
